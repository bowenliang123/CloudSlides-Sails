// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('welcome.loginModalCtrl', ['User']).controller('welcome.loginModalCtrl', function($scope, User, $location) {
    return $scope.login = function() {
      var email, password;
      email = $scope.loginEmail;
      password = $scope.loginPassword;
      console.log($scope.loginEmail);
      console.log(password);
      return User.login({
        email: email,
        password: password
      }, function(value, responseHeaders) {
        var data, status;
        status = value.status;
        data = value.data;
        if (status === 101) {
          alert('相同email已注册');
        } else if (status === 0) {
          User.setLoginInfo(data.user, data.token);
          $('#loginModal').modal('hide');
          return $location.url('/myppt');
        }
      }, function(httpResponse) {
        return console.log(httpResponse);
      });
    };
  });

}).call(this);

//# sourceMappingURL=loginModalCtrl.map
