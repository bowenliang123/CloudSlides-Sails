// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('welcome.signupModalCtrl', ['User']).controller('welcome.signupModalCtrl', function($scope, $location, User) {
    return $scope.signup = function() {
      var email, name, password, passwordConfirm;
      email = $scope.signupEmail;
      password = $scope.signupPassword;
      passwordConfirm = $scope.signupPasswordConfirm;
      name = $scope.signupName;
      if (!email || !password || !passwordConfirm || !name) {
        return;
      }
      if (password !== passwordConfirm) {
        alert('输入一致的密码！');
        return;
      }
      return User.signup({
        email: email,
        password: password,
        name: name
      }, function(value, responseHeaders) {
        var status;
        status = value.status;
        if (status === 0) {
          User.setLoginInfo(value.user, value.token);
          $('#signupModal').modal('hide');
          $location.url('/myppt');
        } else if (status === 101) {
          alert('相同电邮用户已注册');
        }
      }, function(httpResponse) {
        return console.log(httpResponse);
      });
    };
  });

}).call(this);

//# sourceMappingURL=signupModalCtrl.map
