// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('navbarCtrl', ['User']).controller('navbarCtrl', function($scope, $rootScope, User) {
    var init;
    init = function() {
      $scope.isLogined = User.isLogined();
      $scope.userLoginInfo = $scope.isLogined ? User.getLoginInfo() : void 0;
      return console.log('init');
    };
    $scope.logout = function() {
      User.clearLoginInfo();
      $rootScope.$broadcast('logout_success');
      return window.location = '/';
    };
    $scope.$on('login_success', function() {
      $scope.isLogined = true;
      return $scope.userLoginInfo = $scope.isLogined ? User.getLoginInfo() : void 0;
    });
    $scope.$on('logout_success', function() {
      $scope.isLogined = false;
      return $scope.userLoginInfo = $scope.isLogined ? User.getLoginInfo() : void 0;
    });
    return init();
  });

}).call(this);

//# sourceMappingURL=navbarCtrl.map
